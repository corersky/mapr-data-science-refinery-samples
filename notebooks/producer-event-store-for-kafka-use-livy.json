{"paragraphs":[{"text":"%md\n#### The notebook contains samples code for the producer using the Livy interpreter for accessing MapR Event Store for Apache Kafka.\n\n[MapR Data Science Refinery Documentation](https://mapr.com/docs/61/Zeppelin/ZeppelinMapRESSpark.html)\n\n#### Pre-requisistes\n\nBefore running the code configure the [Livy interpreter](https://mapr.com/docs/61/Zeppelin/ConfigureLivyInterpreter.html#task_t1d_4yj_qbb). Make sure to follow the steps described in the [Spark Jobs](https://mapr.com/docs/61/Zeppelin/ConfigureSparkInterpreter.html#task_t1d_4yj_qbb__section_zwx_pdk_qbb) section to allow Spark jobs to run in parallel.","user":"mapr","dateUpdated":"2019-05-02T06:53:15-0700","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h4>The notebook contains samples code for the producer using the Livy interpreter for accessing MapR Event Store for Apache Kafka.</h4>\n<p><a href=\"https://mapr.com/docs/61/Zeppelin/ZeppelinMapRESSpark.html\">MapR Data Science Refinery Documentation</a></p>\n<h4>Pre-requisistes</h4>\n<p>Before running the code configure the <a href=\"https://mapr.com/docs/61/Zeppelin/ConfigureLivyInterpreter.html#task_t1d_4yj_qbb\">Livy interpreter</a>. Make sure to follow the steps described in the <a href=\"https://mapr.com/docs/61/Zeppelin/ConfigureSparkInterpreter.html#task_t1d_4yj_qbb__section_zwx_pdk_qbb\">Spark Jobs</a> section to allow Spark jobs to run in parallel.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1556805035389_-1452885071","id":"20190502-060246_894893440","dateCreated":"2019-05-02T06:50:35-0700","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:5226","dateFinished":"2019-05-02T06:53:15-0700","dateStarted":"2019-05-02T06:53:15-0700"},{"text":"%livy.spark\n\nimport java.util.Properties\nimport org.apache.kafka.clients.producer.{KafkaProducer, ProducerRecord}\n\nval props = new Properties()\nprops.put(\"bootstrap.servers\", \"localhost:9092\")\nprops.put(\"acks\", \"all\")\nprops.put(\"retries\", \"0\")\nprops.put(\"batch.size\", \"16384\")\nprops.put(\"linger.ms\", \"1\")\nprops.put(\"buffer.memory\", \"33554432\")\nprops.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\")\nprops.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\")\n\nval producer = new KafkaProducer[String, String](props)\n\nfor (i <- 1 to 1000) {\n    val message = new ProducerRecord[String, String](\"/streaming_test/test_stream:test_topic\", i.toString(), i.toString())\n    producer.send(message)\n}","user":"mapr","dateUpdated":"2019-05-02T06:52:51-0700","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import java.util.Properties\nimport org.apache.kafka.clients.producer.{KafkaProducer, ProducerRecord}\nprops: java.util.Properties = {}\nres6: Object = null\nres7: Object = null\nres8: Object = null\nres9: Object = null\nres10: Object = null\nres11: Object = null\nres12: Object = null\nres13: Object = null\nproducer: org.apache.kafka.clients.producer.KafkaProducer[String,String] = org.apache.kafka.clients.producer.KafkaProducer@1739d750\n"}]},"apps":[],"jobName":"paragraph_1556805035408_1417619511","id":"20190502-053155_1945798877","dateCreated":"2019-05-02T06:50:35-0700","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:5227"}],"name":"Producer for MapR Event Store for Kafka - Livy","id":"2ECP5R81Q","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"sh:shared_process":[],"spark:shared_process":[],"hive:shared_process":[],"livy:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":true,"looknfeel":"default","personalizedMode":"false"},"info":{}}